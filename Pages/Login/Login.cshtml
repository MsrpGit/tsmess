@page
@model tsmess.Pages.Login.LoginModel
@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TSWR Dashboard</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@400;600;700&display=swap"
          rel="stylesheet" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet" />
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
          rel="stylesheet" />
    @* <link rel="stylesheet" href="css/style.css" /> *@
    <link href="~/js/style.css" rel="stylesheet" />
</head>
<body>
    <div class="container py-2">
        <div class="row">
            <div class="col-sm-12">
                <div class="row">
                    <div class="col-sm-6 pt-1">
                        <div class="logo">
                            <img src="img/logo.png" alt="" />
                            <h5 class="">
                                Telangana Social Welfare Residential<br />Educational Institutions
                                Society
                            </h5>
                        </div>
                    </div>
                    <div class="col-sm-4"></div>
                </div>
                <div class="row pt-4">
                    <div class="col-sm-7 mt-5">

                        <h1 style="color: #4c4c4c;">Welcome!</h1>
                        <h2 class="maroon">Telangana Social Welfare Residential<br />Educational Institutions Society</h2>
                        <h5>For Clarifications and Enquiries: tswreishelpline@gmail.com</h5>

                    </div>
                    <div class="col-sm-5">
                        <div class="card shadow-sm">
                            <div class="card-body">
                                <div class="p-4">

                                    <h5 class="text-center titline">Sign In</h5>
                                    <p class="text-muted mb-0">Enter your Information below to sign in</p>
                                    <div class="form-group py-2">
                                        <label class="pb-1">
                                            Username
                                            <span class="man">&#65290;</span>
                                        </label>
                                        <input type="text" class="form-control">
                                    </div>
                                    <div class="form-group py-2">
                                        <div class="d-flex justify-content-between">
                                            <label class="pb-1">
                                                Password
                                                <span class="man">&#65290;</span>
                                            </label>
                                            <a href="#" class="float-end">Forgot Password?</a>
                                        </div>
                                        <div class="input-group">
                                            <input type="password" id="password" class="form-control">
                                            <button class="btn btn-outline-secondary" id="togglepassword"><i class="bi bi-eye-slash" id="iconpsw"></i></button>
                                        </div>

                                    </div>


                                    <a class="btn  my-2 text-center w-100 text-white" href="index.html" style="background-color:#6792e2;">Sign In</a>

                                    <div class="playstore py-2 text-center">
                                        <div class="d-flex justify-content-center">
                                            <a href="index.html" class="mx-2">
                                                <button class="btn btn-primary">HO User</button>
                                            </a>
                                            <a href="../Zonal_Dashboard/index.html" class="mx-2">
                                                <button class="btn btn-primary">Zonal User</button>
                                            </a>
                                            <a href="../Principal_Dashboard/index.html">
                                                <button class="btn btn-primary">Principal User</button>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap Bundle + Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/script.js"></script>
    <script>
        const profileIcon = document.querySelector('img[src="img/profile_icon.png"]');
        const profileMenu = document.getElementById('profileMenu');

        profileIcon.addEventListener('click', () => {
            profileMenu.style.display = profileMenu.style.display === 'none' ? 'block' : 'none';
        });

        // Optional: close dropdown when clicking outside
        document.addEventListener('click', function (event) {
            if (!profileIcon.contains(event.target) && !profileMenu.contains(event.target)) {
                profileMenu.style.display = 'none';
            }
        });
    </script>
    <script>
        function toggleMessagesPopup() {
            const popup = document.getElementById("messagesPopup");
            popup.classList.toggle("d-none");
        }

        // Stop click inside popup from closing it
        document.getElementById("messagesPopup").addEventListener("click", function (event) {
            event.stopPropagation();
        });

        // Hide popup when clicking outside
        document.addEventListener("click", function (event) {
            const popup = document.getElementById("messagesPopup");
            const label = document.querySelector("label.position-relative");

            if (!popup.contains(event.target) && !label.contains(event.target)) {
                popup.classList.add("d-none");
            }
        });
    </script>

    <script>
        // Example data - replace with your actual data in implementation
        const complianceData = {
            following: 78,
            notFollowing: 22
        };

        // Update text counters
        document.getElementById('followingCount').textContent = complianceData.following;
        document.getElementById('notFollowingCount').textContent = complianceData.notFollowing;

        // Initialize Chart
        const ctx1 = document.getElementById('menuComplianceChart').getContext('2d');
        const menuComplianceChart = new Chart(ctx1, {
            type: 'pie',
            data: {
                labels: ['Following Menu', 'Not Following Menu'],
                datasets: [{
                    data: [complianceData.following, complianceData.notFollowing],
                    backgroundColor: ['#198754', '#dc3545'],
                    borderColor: ['#ffffff', '#ffffff'],
                    borderWidth: 2,
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                    },
                    tooltip: {
                        callbacks: {
                            label: function (context) {
                                return `${context.label}: ${context.raw} Schools`;
                            }
                        }
                    }
                }
            }
        });

        // Add click event listeners for navigation
        document.getElementById('followingCard').addEventListener('click', function () {
            // In production, replace with actual navigation
            // window.location.href = '/schools/menu-compliance/following';
            alert('This would navigate to the list of schools following the menu');
            window.location.href = "menufollowing.html"
        })

        document.getElementById('notFollowingCard').addEventListener('click', function () {
            // In production, replace with actual navigation
            // window.location.href = '/schools/menu-compliance/not-following';
            alert('This would navigate to the list of schools not following the menu');
            window.location.href = "menunotfollowing.html"
        });
    </script>
</body>
</html>
